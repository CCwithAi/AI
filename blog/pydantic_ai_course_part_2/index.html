<!DOCTYPE html><html lang="en"><head><meta name="description" content="Blog home page / landing page contains the latest Ai news articles uploaded everyday about the latest breaking news."><meta name="twitter:description" content="Blog home page / landing page contains the latest Ai news articles uploaded everyday about the latest breaking news."><meta name="robots" content="index, follow"><meta property="og:locale" content="en_UK"><meta property="og:title" content="CCwithAI's Blog Site - AI news with articles on how to use AI in your business and personal life."><link rel="canonical" href="https://ccwithai.github.io/AI/"><meta property="og:url" content="https://ccwithai.github.io/AI/"><meta property="og:site_name" content="CCwithAi - Blog - Latest AI News - AI Guides"><meta name="twitter:image:src" content="https://ccwithai.github.io/AI/assets/images/9205ffbe4d.png"><meta property="og:image" content="https://ccwithai.github.io/AI/assets/images/9205ffbe4d.png"><meta name="twitter:card" content="summary_large_image"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/@hodgef/slate-theme@3.0.9/build/post.css" rel="stylesheet"><title>Pydantic AI Course - Part 2 - AI</title></head><body><script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script><div id="root" class="is-ssr"><div class="page page-post"><header class="page-header"><div class="header-nav"><div class="container"><nav class="row navbar navbar-expand-lg navbar-dark"><a class="navbar-brand logo" href="https://ccwithai.github.io/AI/">AI</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent"><ul class="page-menu navbar-nav"><li class="nav-item"><a class="nav-link" href="https://ccwithai.github.io/AI/">Home</a><div class="dropdown-menu"></div></li><li class="nav-item active"><a class="nav-link" href="https://ccwithai.github.io/AI/blog/">Blog</a><div class="dropdown-menu"></div></li></ul></div></nav></div></div></header><main><div class="container main-container"><div class="row"><div class="col"><div class="content"><div class="post-title-container mb-2"><div class="row justify-content-between"><div class="col-12 col-lg d-lg-flex flex-column justify-content-center"><h1 class="mb-0">Pydantic AI Course - Part 2</h1><div class="text-muted mt-3 date post-date d-flex align-items-center" title="08 Feb, 2025"><i class="fa fa-clock-o mr-2"></i><span>Published on <!-- -->08 Feb, 2025</span></div></div></div></div><div class="featured-image" style="background-image:url(https://ccwithai.github.io/AI/assets/images/9205ffbe4d.png)"></div><section class="post-content mb-3 pb-5"><div class="post-inner-content">
    <div class="wrapper">
        <article class="post">
            <header class="post-header">
                <h1 class="post-title">Mastering Observability for Pydantic AI Agents with Logfire</h1>
                <p class="post-meta"></p>
            </header>

            <div class="post-content">
                <p>Building robust and reliable AI agents is a challenging endeavor, especially when leveraging the power of Large Language Models (LLMs). While frameworks like Pydantic AI simplify the development process, the inherent unpredictability of LLMs can lead to complex debugging scenarios and unpredictable agent behavior. This is where observability becomes critical. Enter <strong>Logfire</strong>, a powerful observability platform built by the same team behind <strong>Pydantic AI</strong>, designed to bring clarity and control to your AI agent development workflow.</p>

                <p>Logfire isn't just another logging tool; it's a comprehensive observability solution tailored for modern applications, and it's particularly well-suited for the intricacies of AI agents built with Python and Pydantic AI. Built upon the foundation of OpenTelemetry, Logfire provides robust tracing, insightful dashboards, and proactive alerting, empowering you to understand, debug, and optimize your AI agents like never before.</p>

                <h2 id="why-observability-and-logfire-matter-for-ai-agents">Why Observability and Logfire Matter for AI Agents</h2>
                <p>As the Pydantic AI team aptly puts it, LLMs can be considered the "worst databases" in terms of reliability and predictability. Their non-deterministic nature makes traditional debugging methods often insufficient. When your AI agent behaves unexpectedly, pinpointing the root cause within a complex flow involving LLM calls, tool interactions, and data processing can be incredibly time-consuming and frustrating.</p>

                <p>Logfire addresses this challenge head-on by providing a dedicated observability layer for your Pydantic AI agents. Imagine having a clear view into the inner workings of your agent:</p>
                <ul>
                    <li><strong>Trace Agent Execution Flows:</strong> Understand the exact sequence of steps your agent takes, from initial prompt to final response, including tool calls, function executions, and LLM interactions.</li>
                    <li><strong>Debug Complex Issues Faster:</strong> Quickly identify bottlenecks, errors, and unexpected behavior by visualizing logs, spans, and exceptions within a contextualized dashboard.</li>
                    <li><strong>Proactively Monitor Agent Health:</strong> Set up dashboards and alerts to track key performance indicators and receive immediate notifications when issues arise, preventing disruptions and ensuring agent reliability.</li>
                    <li><strong>Optimize Performance:</strong> Gain insights into resource utilization and identify areas for optimization within your agent's logic and tool usage.</li>
                </ul>

                <p>Logfire empowers you to move from reactive debugging to proactive monitoring and optimization, significantly improving the reliability and maintainability of your Pydantic AI agents.</p>

                <h2 id="getting-started-with-logfire">Getting Started with Logfire</h2>
                <p>Embarking on your observability journey with Logfire is remarkably straightforward:</p>
                <ol>
                    <li><strong>Create a Developer Account:</strong> Begin by signing up for a developer account on the Logfire website. The process is quick and often offers a free tier to get you started.</li>
                    <li><strong>Install the Logfire SDK:</strong> Integrate Logfire into your Python project with a simple pip command:
                        <pre><code class="language-bash">pip install logfire
</code></pre>
                    </li>
                    <li><strong>Authenticate and Set Up Your Project:</strong> Authenticate your SDK with Logfire and configure your project. This typically involves obtaining API keys from the Logfire dashboard and setting up a project name.</li>
                    <li><strong>Start Sending Data:</strong> With the SDK installed and configured, you can immediately start sending observability data from your Pydantic AI agents to Logfire.</li>
                </ol>

                <h2 id="configuring-logfire-exploring-the-user-interface">Configuring Logfire: Exploring the User Interface</h2>
                <p>Once you've set up your project and started sending data, the Logfire user interface becomes your central hub for observability. The UI is intuitively designed and provides access to key features:</p>
                <ul>
                    <li><strong>Dashboards:</strong> Create custom dashboards to visualize critical metrics, track agent performance, and monitor key events.</li>
                    <li><strong>Alerts:</strong> Define alerts based on specific log patterns, error rates, or performance thresholds to receive real-time notifications of potential issues.</li>
                    <li><strong>Settings:</strong> Configure project settings, manage API keys, and customize your Logfire environment.</li>
                </ul>

                <p>Navigating the Logfire website, you can create new projects, explore setup instructions for development and production environments, and delve into the user interface to familiarize yourself with dashboards, alerts, and settings.</p>

                <h2 id="hello-world-example-your-first-log-entry">Hello World Example: Your First Log Entry</h2>
                <p>Let's get hands-on with a simple "Hello World" example to verify your Logfire setup:</p>
                <pre><code class="language-python">import logfire

logfire.configure() # Configure Logfire with your project settings (API key etc.)

logfire.doLog("Hello World from Pydantic AI Agent!", level="INFO")

print("Log message sent to Logfire!")
</code></pre>
                <p>Run this script, and then navigate to your Logfire dashboard. You should see your "Hello World" message logged, confirming that your integration is working correctly.</p>

                <h2 id="leveraging-spans-and-log-levels-for-contextual-insights">Leveraging Spans and Log Levels for Contextual Insights</h2>
                <p>Logfire's true power lies in its ability to provide contextual observability. <strong>Spans</strong> are crucial for organizing your logs by context, allowing you to trace operations across different parts of your agent's execution.</p>
                <pre><code class="language-python">import logfire

logfire.configure()

with logfire.span(name="process_user_query", attributes={"user_id": "user123"}):
    logfire.doLog("Received user query...", level="INFO")
    # ... agent logic to process query ...
    result = "Agent response generated"
    logfire.span().set_attribute("result", result) # Set attribute for the span
    logfire.doLog("Generated agent response.", level="INFO")

print("Span example executed, check Logfire dashboard.")
</code></pre>
                <p>In this example, we create a span named "process_user_query" to encapsulate the logic for handling a user query. We also set an attribute "user\_id" to further contextualize the span. Within the span, we log messages and even set attributes to capture important data, like the "result" of the query processing.</p>

                <p>Logfire also supports various <strong>log levels</strong> (NOTICE, INFO, DEBUG, WARNING, ERROR, FATAL), each color-coded in the dashboard, making it easy to visually distinguish the severity of different log messages and prioritize attention to critical issues like errors and fatal exceptions.</p>

                <h2 id="logging-exceptions-for-robust-error-handling">Logging Exceptions for Robust Error Handling</h2>
                <p>Handling exceptions gracefully is vital for robust AI agents. Logfire makes it easy to log exceptions and track errors:</p>
                <pre><code class="language-python">import logfire

logfire.configure()

try:
    # ... some code that might raise an exception ...
    raise ValueError("Something went wrong during agent processing!")
except ValueError as e:
    logfire.log_exception(e, level="ERROR")
    print("Exception logged to Logfire.")
</code></pre>
                <p>Logfire will capture the exception details, including the traceback, and display it prominently in red on the dashboard, ensuring that you can quickly identify and address critical errors. You can even use Logfire's powerful SQL-based filtering to isolate exceptions and fatal errors for focused analysis.</p>

                <h2 id="instrumenting-methods-for-automated-tracing">Instrumenting Methods for Automated Tracing</h2>
                <p>For even deeper observability with minimal code changes, Logfire offers method instrumentation. By simply adding the <code>@logfire.instrument</code> decorator to your methods:</p>
                <pre><code class="language-python">import logfire

logfire.configure()

@logfire.instrument(message="Executing my_agent_method")
def my_agent_method(input_data):
    # ... agent method logic ...
    return "Method executed successfully"

result = my_agent_method("some input")
print(f"Method result: {result}")
</code></pre>
                <p>Logfire automatically logs the start and end of the method execution, including input parameters and return values, without you having to manually create spans and log messages within the method itself. This feature is incredibly powerful for tracing complex agent flows and understanding the performance of individual components.</p>

                <h2 id="conclusion-embrace-observability-with-logfire-for-pydantic-ai">Conclusion: Embrace Observability with Logfire for Pydantic AI</h2>
                <p>Logfire is more than just a logging tool; it's a strategic observability platform specifically designed to empower developers building AI agents with Pydantic AI. Its Python-centric design, seamless Pydantic AI integration, OpenTelemetry foundation, structured data support, and SQL querying capabilities make it an invaluable asset for anyone serious about building reliable, maintainable, and high-performing AI agents.</p>

                <p>By embracing Logfire, you gain the visibility needed to master the complexities of AI agent development, troubleshoot issues efficiently, and ensure your agents are robust and ready for production. Give Logfire a try and unlock a new level of understanding and control over your Pydantic AI powered creations.</p>

                <h3 id="section-steps-summary">Section Steps Summary:</h3>

                <h4 id="getting-started-with-logfire-1">Getting Started with Logfire:</h4>
                <ul>
                    <li>Create a Logfire developer account.</li>
                    <li>Install the Logfire SDK using <code>pip install logfire</code>.</li>
                    <li>Authenticate with Logfire and set up your project.</li>
                    <li>Start sending data using <code>logfire.configure()</code> and <code>logfire.doLog()</code>.</li>
                </ul>

                <h4 id="setting-up-logfire-1">Setting Up Logfire:</h4>
                <ul>
                    <li>Sign up on the Logfire website (using GitHub or other methods).</li>
                    <li>Create a new project and explore project setup.</li>
                    <li>Configure alerts and explore settings.</li>
                    <li>Set up development and production environments.</li>
                    <li>Navigate the project UI and explore dashboards.</li>
                </ul>

                <h4 id="hello-world-example-1">Hello World Example:</h4>
                <ul>
                    <li><code>pip install logfire</code></li>
                    <li><code>logfire.configure()</code> (with API key etc.)</li>
                    <li><code>logfire.doLog("Hello World", level="INFO")</code></li>
                </ul>

                <h4 id="span-feature-example-1">Span Feature Example:</h4>
                <ul>
                    <li>Use <code>logfire.span(name="span_name")</code> to create spans.</li>
                    <li>Organize logs within spans for context.</li>
                    <li>Use <code>logfire.span().set_attribute("attribute_name", attribute_value)</code> to add attributes.</li>
                    <li>Log messages within spans using <code>logfire.doLog()</code>.</li>
                </ul>

                <h4 id="log-levels-example-1">Log Levels Example:</h4>
                <ul>
                    <li>Use <code>logfire.doLog(message, level="LEVEL")</code> with levels like "NOTICE", "INFO", "DEBUG", "WARNING", "ERROR", "FATAL".</li>
                    <li>Observe color-coding in the Logfire dashboard.</li>
                </ul>

                <h4 id="logging-exceptions-example-1">Logging Exceptions Example:</h4>
                <ul>
                    <li>Use <code>try-except</code> blocks.</li>
                    <li>Catch exceptions and log them with <code>logfire.log_exception(exception, level="ERROR")</code>.</li>
                    <li>Filter exceptions using SQL in the Logfire dashboard.</li>
                </ul>

                <h4 id="instrumenting-methods-example-1">Instrumenting Methods Example:</h4>
                <ul>
                    <li>Use <code>@logfire.instrument(message="Method description")</code> decorator.</li>
                    <li>Define and run instrumented methods.</li>
                    <li>Explore method call and response data in Logfire logs.</li>
                </ul>
            </div>
        </article>
    </div>

    
    <style>body{font-family:Helvetica,Arial,sans-serif;font-size:16px;line-height:1.8;font-weight:300;color:#111;background-color:#fdfdfd}.wrapper{max-width:800px;margin-right:auto;margin-left:auto;padding-right:30px;padding-left:30px}.post-header{margin-bottom:30px}.post-title{font-size:42px;line-height:1.2;margin-bottom:15px}.post-meta{font-size:14px;color:#828282;margin-bottom:15px}.post-content{margin-bottom:30px}.post-content h2{font-size:32px;margin-top:30px;margin-bottom:15px;font-weight:300}.post-content h3{font-size:26px;margin-top:25px;margin-bottom:15px;font-weight:300}.post-content h4{font-size:20px;margin-top:20px;margin-bottom:15px;font-weight:300}.post-content ol,.post-content p,.post-content ul{margin-bottom:15px}.post-content ol,.post-content ul{margin-left:30px}.post-content blockquote{color:#828282;border-left:4px solid #9c9c9c;padding-left:15px;font-size:18px;font-style:italic;margin-bottom:15px}.post-content pre{font-size:15px;border:1px solid #9c9c9c;border-radius:3px;background-color:#eef;padding:8px 12px;overflow-x:auto;margin-bottom:15px}.post-content code{font-size:15px;border:1px solid #9c9c9c;border-radius:3px;background-color:#eef;padding:1px 5px}.post-content hr{border:none;border-bottom:1px solid #9c9c9c;margin:30px 0}.post-content a{color:#2a7ae2;text-decoration:none}.post-content a:hover{color:#111;text-decoration:underline}</style>

</div></section><section class="mb-3"><h4 class="section-title explore-more"><span>Explore More</span></h4><div class=""><div class="card mb-3 d-flex flex-row has-img"><div class="col-2 p-0 explore-featured-image"><a class="card-img-left card-has-img" href="https://ccwithai.github.io/AI/blog/delving-minds-machines-adventures-reasoning-models/"><img src="https://ccwithai.github.io/AI/assets/images/f854cde233.png" loading="lazy"></a></div><div class="card-body col"><a class="card-title" href="https://ccwithai.github.io/AI/blog/delving-minds-machines-adventures-reasoning-models/">What does AI really think about humans? My Adventures with Reasoning Models!</a><p class="card-text">Delving into the Minds of Machines: My Adventures ...</p></div></div></div></section></div></div></div></div></main><footer class="page-footer"><div class="container"><div class="row"><div class="col col-12 col-md-6"><span>© <!-- -->AI</span></div><div class="col col-12 col-md-6 mt-3 mt-md-0 d-flex justify-content-md-end"><a href="https://prss.io" class="d-flex align-items-center footer-shoutout" target="_blank" rel="noopener" title="Powered by PRSS Site Creator"><img class="prss-footer-image mr-1" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAH40lEQVRogc2ae4wVVx3Hv2dmdu8+y8I+2HVZZmBau0slNNUFWyuWmqahGCgxNrVG0rVUa5qGJk2TakoT+aMmJkI0mrbqNo2CNZaWYjAWi1GpQWMLCVBgoY6ZYXfZ190HhV323pk5x5y5Z3bnvvbO3Hs39pv8du+dx5nfZ36/874EZZKuap0A7gHQDeDTAG4GUA+gVjxhFsAkgP8C+AjAvwCcMCzzbDk8KAlEV7UuADsAfANARzFlaB0Nl3oeuePK5NSNF5/6/uvvFutLUSC6qt0F4AUA9xf7YLWj4eNdj99pb7p7VaMkpdw4e2Fk/PS54eeeeHb/r6KWFwlEVzX+1n8CYHvUB/m6ZXXj5HcfXc823b1qmQ+QqWPHjQvPvPDOZsMyrbDlSmEv1FVtJ4C+YiGaa9n497bWTR7sfXjplzeuzgvB1dpctxLAOV3VvhO2fKXQBbqq1QD4hagHkVUpI/FoN4tvW2O3DxNCI+QAbyRe1lXtSwAeMyzzRtEguqotBXAEwF3FQDywRjZ71mNlS63bTqkEkiyqSn4dwGpd1bYYljme76K8IALiOIDPRH3y5s/Vju3slutaq2yNug4YZSBEBqTQmZypDQD+pqvaPflgcoKIdDoSFUJvq7y6d0djrJXNNjPqgkdBkmRQMBBupKTWnvvyR13V7jUscyYUiKgTodOpOiY5+x5rne5uZEuYkwIA4Y4z8V/yPpPiI+KLR6ZXpFuaskoWrVPoiv30g83x955X5Q2N8hJCCUCIcDzbIjSSC+nhXK1ZWkQC/URB3Xt7/fier7Y23ERpE48CIwSMO49UFLzPEgO8tEodT311vGP5xdPPLfT4vbqqvRPsZzJTi0PUFCpl17bl8cfXNzTxSswjACJ5rnmphEBaQQIjqYrOvzMeEJYsUDoRsAuK+/hTANv8i+ZiLYYdoTq7rhXVCmEExHt7fjr5KSX+S1LWMZtKDMzGvCWFZR4rCMK1VVe1L2aBiLFTKHmNDwkCBE3yIjRfR1LHTvazq795353wnPTMRu7P3Aqmlq/daSBiFBthAJiKBhEw8CuyB5EONTDFEs+8NT351BszS+LXXQJkQgTA+DnPQoPcp6vaGgQisiM8hM9C5oGQ7rwXFVnG4Yv2yNd+ORH7h2EvnbvPe9t5zI9G+IhwfSsIEmkcNfGxg5GEmzfFrjDJsW9bhpMTLOHS4J0s3dmcFikiXA/xP4qY2UWaFHW1xmLLYzImHMoapFR/zZvfqyB0urmKtK+sytPRsnQnmWiGs3r8SCAduqqtVcT0NJL8ocYyRSIOYYjPumwqRpi+rl6qL1RQrrTJ7FbYQv1MTm2UxBy7aCmMoKWmgiQcSguXwR2kwnLVk+C5SOqWxEJBJM3Y6U5LLrBOqVRGTs04s7MFeBgVdYMuYJEj0imJ1Y5oIDR3j7VClpXYf2xm9M3koQlGJJcFoxJJqiKWbMqmShekk0rk/L+v2SNjSSeLg9GMA8hYOmDFRKRFCqw7lU3c165KpWL3/S0ty2rlRP6IsAWiFEmlTxAyxVjKOcYoVjcodW892VGxqbNmKB0mn/MsYBFJisFn+UI/B5FKD0YpltYQad9DTW3Pb2kYUfhoPqfTmXCRNc3ryAiAtih3noonrnU0xWo7ZHm+4+OOz0FQLyKeUQpKXTy4LrZcb2Q3QuU/iwxznUfkctS7KGO09Y4a5YyTdKiMVBT8SsrYHABjrgfB5+/MddFYTWO5I5HLIukjDnI+6l2+uj5brww1SbhKvNfvRcOPBGUCwFuEcFLm9eqLAnKJg5wsFoSrpbUC1Wurpb6kYzPMp5OfUh6A68B1bVDXXgwIrg84yN9LAYEY89284aaKi1WE2hJjKQB3HkTAcFsk/ZWDnAPQX47yb1lTJyU768kwiMOoA+amRyNMRMbGk+6hP49ORHhsv2GZfZJhmbyE35frRdXUyPjU55uUPjnmXJt1aAqAwyQ9oJS/LMs4wL7e/oHNPaflg38aizKtOIDAxOrVcoH4Wntns/LzM2TwzGBy2nWScB0OlMyqA0OjSeeHL10e3NxzRn7tzeEVthO5jvwaPohhmbzlOlpWEgAJIrMnD9La/R+woWQyCcex584NDCc8gC07zyq/OzLaXgQA11HDMi8gY13rxVJ2oPKJL331vq+0nTBrxnpun6y7fGVW6X1jePQP78bbKUN7icXv8T/MgRiWeVxXtcPBRa9y6sJYRfNzx1oYO/YhYaUDcB0yLPOE/yVz0Pg0H7csBghS0SHRR+g5xVfjdwVPpIEYlmkCeLYsj1pc7TIsM63LyBrGG5b5EoDXP8EQBwzLzNr1zTcf4VsL/1x8nyKL14lv57opJ4jYEdoK4MNPEAT35Su5dquw0M6LYZlxvg0ifmrx/xaPxEbDMifz+bHgVNewzDEBU1SdGRpNVpXhBfAhyH0LQSDMPrvY335EVzU+Sv5xmMWK/qGEs+/VwbFT565HmnlmaEa0TqF+zhF68cGwzFcA8CX8t/NdM33DZS//dmhw+xPnlb+cmCoF4hBfdAsLgTARCcqwTD4t3p5ILv/m2YvTe9feWtsEMZg9+t5k/EevDNSPT9ml9Np8vLcn2GOHVUkb3z/7wRceaGuu3H3g8OiS033TXUUWMwBgPx/F+gPAYlTOH57dBoDv6a0HcCuAVXzBHkBMXMKHPtfFj84u8ekpn9nxSVHJDwfwPyAECSn3IOWlAAAAAElFTkSuQmCC" width="15"><span class="font-weight-bold prss-tag">PRSS Site Creator</span></a></div></div></div></footer></div></div>

</body></html>